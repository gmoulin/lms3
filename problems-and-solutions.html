---
layout: default
title: Problems and solutions found along the way
---
<div class="intro">
	<p>
		You will find listed on this page the main problems I ran into during the different phases of the LMS3 project.<br />
		By main problems I mean those which took me several trys and some time to fix.<br />
		Each problem have a description, an analysis and a solution; this to show how I resolved it.<br />
	</p>
</div>

<!-- Documentation -->
<div class="doc-section">
	<div class="page-header">
		<h1 id="documentation">Documentation:</h1>
	</div>

	<!-- sidenav maintenance -->
	<h3 id="sidenav-maintenance">Sidenav maintenance</h3>
	<p>
		Bootstrap sidenav combined with scrollspy is really good for documentation purpose but the maintenance is awfull, time for automation.<br />
		This solution is not optimal since it occurs on load and force a repaint but the gain in maintenance ease is worth it.<br />
		{% highlight javascript %}
var $body = $(document.body),
	$head = $(document.head),
	$navSidebar = $('.nav-sidebar');

if( $navSidebar.find('.nav-sidenav').find('li').length === 0 ){
	var sidenav = "",
		hasSub = false;
	$('.content').find('.doc-section').each(function(){
		$(this).find('h1, h3').each(function(){
			var $anchor = $(this);
			if( $anchor.is('h3') ){
				if( !hasSub ){
					hasSub = true;
					sidenav += '<ul class="nav">';
				}
			} else {
				if( hasSub ){
					hasSub = false;
					sidenav += '</ul>';
				}
				if( sidenav.length > 0 ){
					sidenav += '</li>';
				}
			}

			sidenav += '<li><a href="#'+ this.id +'">'+ $anchor.text().replace(':', '') +'</a>';
			if( $anchor.is('h3') ){
				sidenav += '</li>';
			}
		});
	});

	$navSidebar.find('.nav-sidenav').html( sidenav );
}
		{% endhighlight %}
	</p>
	<!--/sidenav maintenance -->
</div>
<!--/Documentation -->

